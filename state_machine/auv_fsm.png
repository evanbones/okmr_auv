---
Robot Mission State Machine
---
stateDiagram-v2
  direction LR
  classDef s_default fill:white,color:black
  classDef s_inactive fill:white,color:black
  classDef s_parallel color:black,fill:white
  classDef s_active color:red,fill:darksalmon
  classDef s_previous color:blue,fill:azure
  
  state "idle" as idle
  Class idle s_active
  state "exploring" as exploring
  Class exploring s_default
  state "collecting" as collecting
  Class collecting s_default
  state collecting {
    state "data" as collecting_data
  }
  state "returning" as returning
  Class returning s_default
  state returning {
    state "home" as returning_home
  }
  state "charging" as charging
  Class charging s_default
  
  idle --> exploring: start_mission
  exploring --> collecting_data: detect_data
  collecting_data --> returning_home: mission_complete
  returning_home --> charging: arrived_home
  charging --> idle: fully_charged
  [*] --> idle